<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lofhel Calculadora financiera</title>
</head>

<body>
    <img src="https://avatars.githubusercontent.com/u/204763019?s=400&u=713fcba602705110ee3c2d8412cc8a257160410d&v=4" alt="logo VitiSense">
    <h2>Calculadora Financeira</h2>
    <h4>Descubra quanto da sua produ√ß√£o pode ser preservado com o monitoramento eficaz de temperatura e umidade da
        VitiSense. <br>
        Insira seus dados e veja o impacto da solu√ß√£o na redu√ß√£o de perdas e na qualidade dos seus vinhos.
    </h4> <br>

    Informe seu nome: <br> <input id="dadoNome"><br> <br>
    Total de Garrafas Produzidas de Vinho no m√™s: <br><input id="iptGarrafas"> <br><br>
    Pre√ßo M√©dio de Cada Garrafa de Vinho em R$: <br><input id="iptPreco"> <br> <br>
    <!--Valores inseridos pelo usu√°rio-->

    <h4>Descubra agora quantas perdas sua vin√≠cola pode evitar, clique em simular!</h4>
    <button onclick="mostrar()">Simular</button> <br> <br> <!--Bot√£o que executa a fun√ß√£o mostrar do js-->
    <div id="divTxt"></div> <!--div que receber√° o texto do JS-->


</body>

</html>
<script>
    // Vari√°veis de perda sem o uso da solu√ß√£o
    var garrafasPerdidasMes = 0;
    var valorPerdidoMes = 0;
    var valorPerdidoSem = 0;

    // Vari√°veis de economia ap√≥s o uso da solu√ß√£o
    var garrafasEcoMes = 0;
    var valorEcoMes = 0;
    var valorEcoSem = 0;
    var ecoTotalAno = 0;
    var ecoTotalSem = 0;
    var selic = 0;
    var rendeAno = 0;

    // Fun√ß√£o do calculo do desperdicio sem a solu√ß√£o
    function calcularDesp() {

        // Calculo da perca = 27% ao mes
        garrafasPerdidasMes = Number(iptGarrafas.value) * 0.27
        valorPerdidoMes = garrafasPerdidasMes * Number(iptPreco.value)

        // Calculo de perca Semestre
        valorPerdidoSem = garrafasPerdidasMes * 6 * Number(iptPreco.value)
    }

    // fun√ß√£o do calculo do desperdicio com a solu√ß√£o
    function calcularEco() {
        // Calculo da eco = 5% ao mes
        garrafasEcoMes = Number(iptGarrafas.value) * 0.17
        valorEcoMes = garrafasEcoMes * Number(iptPreco.value)

        // Calculo de eco semestre
        valorEcoSem = garrafasEcoMes * 6 * Number(iptPreco.value)

        // Calculo do lucro utilizando nossa solu√ß√£o
        ecoTotalAno = valorPerdidoSem * 2 - valorEcoSem * 2;
        ecoTotalSem = valorPerdidoSem - valorEcoSem;
    }

    // fun√ß√£o do calculo do rendimento anual do selic
    function calcularSelic() {
        selic = 13.25;
        rendeAno = ecoTotalAno * (1 + (selic / 100));
    }


    // Fun√ß√£o que  mostra os dados calculados pelas outras fun√ß√µes
    function mostrar() {
        if (dadoNome.value == '' || iptGarrafas == '' || iptPreco.value == '') {
            alert("Por favor, preencha todos os campos.")
        } else {
            // Calcula o desperdicio via fun√ß√£o
            calcularDesp();

            // Calcula a economia via fun√ß√£o
            calcularEco();

            // Calcula o rendimento do selic
            calcularSelic();

            // Mostra mensagem na tela para o usu√°rio
            divTxt.innerHTML = `Ol√°, ${dadoNome.value}!<br><br>

            üç∑ Estima-se que, no mercado de vinhos, haja uma perda consider√°vel de 27% nas vin√≠colas devido √† falta de controle de temperatura e umidade.<br><br>

            üìà A cada ${iptGarrafas.value} garrafas produzidas, voc√™ pode perder mensalmente, em m√©dia, um pouco mais de um quarto desse total, o que equivale a ${garrafasPerdidasMes} garrafas, resultando em um preju√≠zo de R$ ${valorPerdidoMes}.<br><br>

            üìâ Com nossos sensores, essa perda diminuiria para apenas ${garrafasEcoMes} garrafas por m√™s, reduzindo a perda para R$ ${valorEcoMes} mensais. Nossa proje√ß√£o √© que as perdas mensais comuns podem chegar a 17%.<br><br>

            <b>üí∞ Economia estimada:<br>
            üî∏ No semestre: R$ ${ecoTotalSem}<br>
            üî∏ No ano: R$ ${ecoTotalAno}<br>
            üî∏ Rendimento aplicando a economia mensal na SELIC de 13,25% ao ano: R$ ${rendeAno}</b>`
        }

    }

</script>