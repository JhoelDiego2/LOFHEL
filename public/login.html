<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="css/login.css">
    <div id="div_txt"></div>
</head>

<body>

    <div class="container">
        <div class="left-content">
            <div class="buttonback">
                <a href="inicio.html"></a><img src="./assets/back button.png" alt="backbutton">
            </div>
            <div class="position-logotipo">
                <img class="size-logotipo" src="./assets/logotipo01.png" alt="logotipo01">
            </div>

            <div class="title">
                <span class="size-title">
                    BEM-VINDO DE<br> ﾠﾠﾠVOLTA!<br>_
                </span>
            </div>

            <div class="slogan">
                <span class="size-slogan">A Lofhel monitora a temperatura<br>e umidade em tempos real
                    para<br>vinícolas e adegas </span>
            </div>
        </div>

        <div class="right-content">
            <div class="title-right">
                <span>
                    <b class="txt-laranja">Iniciar Sessão</b> <br>
                </span>
            </div>
            <div>
                <span>
                    <p class="subtitle-right">Não possui uma conta? <a class="txt-laranja" href="cadastro.html">Acesse
                            aqui</a></p>
                </span>
            </div>

            <div>
                <p id="texto_email" >Email</p>
                <input type="text" id="ipt_email" oninput="digitando_login()" placeholder="E-mail"><br>
                <span id="email_erro" class="escondido">Email invalido deve conter 1 (@) e 1 (.)</span>
            </div>

            <div>
                <p id="texto_senha">Senha</p>
                <input type="password" id="ipt_senha" oninput="digitando_login()" placeholder="Senha"><br>
                <span id="senha_erro" class="escondido">Senha invalido</span>
            </div>
            <div>
                <button onclick="validar()">Entrar</button><br>
                <span id="texto_botom" class="escondido" >Preencha todos os campos!</span>
            </div>
            <div style="padding-top:5vh;">
                <span >
                    <p>Esqueceu a senha? <a class="txt-laranja" href="./redefinirsenha.html">Acesse aqui</a></p>
                </span>
            </div>

        </div>

    </div>

</body>

</html>
<script>

    function digitando_login() {
        ipt_email.value != '' ? (texto_email.style = "color:#DEA976", ipt_email.style = "    border-bottom: 1px solid #DEA976;") : null
        ipt_senha.value != '' ? (texto_senha.style = "color:#DEA976", ipt_senha.style = "    border-bottom: 1px solid #DEA976;") : null
    }

    function validar() {
        var email = ipt_email.value;
        var senha = ipt_senha.value;
        var emailuser = 'lofhel@gmail.com';
        var senhauser = 'l0fh3l';
        var temespaco_email = false;
        var temespaco_senha = false;
        var i_arroba = 0


        for (var i = 0; i < email.length; i++) {
            if (email[i] === " ") {
                temespaco_email = true;
            }
        }
        for (var i = 0; i < senha.length; i++) {
            if (senha[i] === " ") {
                temespaco_senha = true
            }
        }

        for (let i = 0; i < email.length; i++) {
            if (senha.includes('@')) {
                i_arroba++
            }
    }


        if (senha != senhauser) {
            senha_erro.style = "color:red"
            senha_erro.innerHTML = 'Erro... Senha incorreta!'
        }
        if (email != emailuser) {
            email_erro.style = "color:red"
            email_erro.innerHTML = 'Erro... Conta ainda não cadastrada'
            senha_erro.style = "color:#1D1D1D"
        }

        if (!email.includes("@") || !email.endsWith(".com" || i_arroba > 1)) {
            email_erro.innerHTML = "Email invalido deve conter 1 (@) e 1 (.)"
            email_erro.style = "color:red"
        }

        if (senha == "") {
            senha_erro.style = "color:red"
            senha_erro.innerHTML = 'Preencha o campo senha'


        }
        if (email == "") {
            email_erro.style = "color:red"
            email_erro.innerHTML = 'Preencha o campo e-mail'
     

        }
        if (temespaco_email) {
            email_erro.innerHTML = 'Erro... Email não deve ter espaços'
            email_erro.style = "color:red"
        }
        if (temespaco_senha) {
            senha_erro.innerHTML = "'Erro... Senha não deve ter espaços"
            senha_erro.style = "color:red"
        }
        if (senha === "" && email === "") {
            texto_botom.style = "color:red"
            senha_erro.style = "color:#1D1D1D"
            email_erro.style = "color:#1D1D1D"
        }else{
                        texto_botom.style = "color:#1D1D1D"
        }


        // alert('Seja bem-vindo')

    }

</script>